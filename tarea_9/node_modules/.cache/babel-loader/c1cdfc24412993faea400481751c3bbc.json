{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\marta\\\\Desktop\\\\DW\\\\tarea_9_react\\\\tarea_9\\\\src\\\\App.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport axios from \"axios\";\nimport swal from 'sweetalert';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Register() {\n  _s();\n\n  const [data, setData] = useState([]);\n  const [estado, setEstado] = useState({\n    \"id\": \"-\"\n  });\n  const [municipio, setMunicipio] = useState({\n    \"id\": \"-\"\n  });\n  const [colonia, setColonia] = useState({\n    \"id\": \"-\"\n  });\n  console.log(\"AL inicio de todo\", data, estado, municipio, colonia);\n\n  const handleInput = event => {\n    let pattern = /^[0-9]{5}/;\n    let result = pattern.test(event.target.value);\n    console.log({\n      \"regex\": result,\n      \"message\": \"handleinput\"\n    });\n\n    if (event.target.value.length == 5 && result) {\n      getCP(event.target.value);\n      console.log({\n        \"data\": data,\n        \"message\": \"getCP handleinput\"\n      });\n\n      for (let i = 0; i < data.length; i++) {\n        console.log(data[i].colonia);\n      }\n    } else {\n      swal(\"Opps!\", \"Código postal incorrecto\", \"error\");\n    }\n  };\n\n  const getCP = async zipcode => {\n    try {\n      console.log({\n        \"zip\": zipcode,\n        \"message\": \"GETCP\"\n      });\n      let formData = new FormData();\n      formData.append(\"cp\", zipcode);\n      const url = \"http://api.masksoftco.mx/direcciones/codigo-postal\";\n      await axios({\n        url,\n        method: 'post',\n        dataType: 'json',\n        ContentType: 'application/json',\n        data: formData\n      }).then(response => {\n        let objectRes = response.data;\n        const aux_dict = {};\n        setData(response.data);\n        setEstado({\n          \"estado\": response.data[0].estado\n        });\n        setMunicipio({\n          \"municipio\": response.data[0].municipio\n        });\n\n        for (let i = 0; i < objectRes.length; i++) {\n          aux_dict[i] = objectRes[i].colonia;\n        }\n\n        setColonia(aux_dict);\n      }).catch(error => {\n        swal(\"Opps!\", \"Código postal incorrecto\", \"error\");\n      }); // return (res.data ? res.data : false);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const colours = {\n    \"#ff0000\": \"Red\",\n    \"#00ff00\": \"Green\",\n    \"#0000ff\": \"Blue\"\n  };\n  let coloursList = Object.keys(colours).map(k => {\n    return /*#__PURE__*/_jsxDEV(\"option\", {\n      value: k,\n      children: colours[k]\n    }, k, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }, this);\n  }, this);\n  let estadoList = Object.keys(estado).map(k => {\n    return /*#__PURE__*/_jsxDEV(\"option\", {\n      value: k,\n      children: estado[k]\n    }, k, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }, this);\n  }, this);\n  let municipioList = Object.keys(municipio).map(k => {\n    return /*#__PURE__*/_jsxDEV(\"option\", {\n      value: k,\n      children: municipio[k]\n    }, k, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 9\n    }, this);\n  }, this);\n  let coloniaList = Object.keys(colonia).map(k => {\n    return /*#__PURE__*/_jsxDEV(\"option\", {\n      value: k,\n      children: colonia[k]\n    }, k, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 9\n    }, this);\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"demoForm\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group enlinea\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"cp\",\n          children: \"C\\xF3digo Postal: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          className: \"form-control\",\n          name: \"cp\",\n          id: \"cp\",\n          onBlur: handleInput\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group enlinea\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"state\",\n          children: \"Estado: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          className: \"anchoselect\",\n          children: estadoList\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group enlinea\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"alcaldia\",\n          children: \"Municipio/Alcaldia: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          className: \"anchoselect\",\n          children: municipioList\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group enlinea\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"colonia\",\n          children: \"Colonia: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          children: coloniaList\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 11\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 99,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Register, \"2FECt6l3b2tj+4oyUlv2BwzcM/E=\");\n\n_c = Register;\nexport default Register;\n\nvar _c;\n\n$RefreshReg$(_c, \"Register\");","map":{"version":3,"names":["React","useState","axios","swal","Register","data","setData","estado","setEstado","municipio","setMunicipio","colonia","setColonia","console","log","handleInput","event","pattern","result","test","target","value","length","getCP","i","zipcode","formData","FormData","append","url","method","dataType","ContentType","then","response","objectRes","aux_dict","catch","error","colours","coloursList","Object","keys","map","k","estadoList","municipioList","coloniaList"],"sources":["C:/Users/marta/Desktop/DW/tarea_9_react/tarea_9/src/App.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport axios from \"axios\";\nimport swal from 'sweetalert';\n\nfunction Register (){\n    const [data, setData] = useState([]);\n    const [estado, setEstado] = useState({\"id\":\"-\"});\n    const [municipio, setMunicipio] = useState({\"id\":\"-\"});\n    const [colonia, setColonia] = useState({\"id\":\"-\"});\n\n    console.log(\"AL inicio de todo\", data, estado, municipio, colonia);\n\n    const handleInput = event => {\n      let pattern = /^[0-9]{5}/;\n      let result = pattern.test(event.target.value);\n\n      console.log({\"regex\":result, \"message\":\"handleinput\"});\n      \n      if(event.target.value.length == 5 && result){\n        getCP(event.target.value);\n        console.log({\"data\":data, \"message\":\"getCP handleinput\"});\n        for(let i=0; i<data.length; i++){\n          console.log(data[i].colonia);\n        }\n\n      }else{\n        swal(\"Opps!\", \"Código postal incorrecto\", \"error\");\n      }\n    }\n\n    const getCP = async (zipcode) =>{\n      try {\n        console.log({\"zip\":zipcode, \"message\":\"GETCP\"})\n          let formData = new FormData();\n          formData.append(\"cp\", zipcode);\n          const url = \"http://api.masksoftco.mx/direcciones/codigo-postal\";\n\n          await axios({\n              url,\n              method: 'post',\n              dataType: 'json',\n              ContentType: 'application/json',\n              data: formData\n          })\n          .then(response =>{\n            let objectRes = response.data;\n            const aux_dict = {}\n            setData(response.data);\n            setEstado({\"estado\":response.data[0].estado});\n            setMunicipio({\"municipio\":response.data[0].municipio});\n            for(let i=0; i<objectRes.length; i++){\n              aux_dict[i] = objectRes[i].colonia;\n            }\n            setColonia(aux_dict);\n          }).catch(error => {\n            swal(\"Opps!\", \"Código postal incorrecto\", \"error\");\n          })\n          \n\n\n         // return (res.data ? res.data : false);\n          \n      } catch (error) {\n          console.log(error);\n      }\n  }\n\n    const colours= {\n      \"#ff0000\": \"Red\",\n      \"#00ff00\": \"Green\",\n      \"#0000ff\": \"Blue\"\n    }\n\n    let coloursList = Object.keys(colours).map((k) => {\n      return (\n        <option key={k} value={k}>{colours[k]}</option>\n      )\n    }, this);\n\n    let estadoList = Object.keys(estado).map((k) => {\n      return (\n        <option key={k} value={k}>{estado[k]}</option>\n      )\n    }, this);\n\n    let municipioList = Object.keys(municipio).map((k) => {\n      return (\n        <option key={k} value={k}>{municipio[k]}</option>\n      )\n    }, this);\n\n    let coloniaList = Object.keys(colonia).map((k) => {\n      return (\n        <option key={k} value={k}>{colonia[k]}</option>\n      )\n    }, this);\n\n    return(\n        <div>\n          <form className=\"demoForm\">\n            <div className=\"form-group enlinea\">\n              <label htmlFor=\"cp\">Código Postal: </label>\n              <input type=\"text\" className=\"form-control\" name=\"cp\" id=\"cp\" onBlur={handleInput}/>\n            </div>\n            <div className=\"form-group enlinea\">\n              <label htmlFor=\"state\">Estado: </label>\n              <select className=\"anchoselect\">\n              {estadoList}\n              </select>\n            </div>\n            <div className=\"form-group enlinea\">\n              <label htmlFor=\"alcaldia\">Municipio/Alcaldia: </label>\n              <select className=\"anchoselect\">\n              {municipioList}\n              </select>\n            </div>\n            <div className=\"form-group enlinea\">\n              <label htmlFor=\"colonia\">Colonia: </label>\n              <select>\n              {coloniaList}\n              </select>\n            </div>\n          </form>\n        </div>\n    );\n\n}\nexport default Register;"],"mappings":"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"},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\marta\\\\Desktop\\\\DW\\\\tarea_9_react\\\\tarea_9\\\\src\\\\App.js\";\nimport React, { useState, useEffect } from \"react\";\nimport Select from 'react-select';\nimport axios from \"axios\";\nimport swal from 'sweetalert';\nimport * as toastr from 'toastr';\nimport 'toastr/build/toastr.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Register() {\n  const estados = [{\n    value: ''\n  }];\n\n  const handleInput = event => {\n    console.log({\n      \"zip\": event.target.value,\n      \"message\": \"handleinput\"\n    });\n    let pattern = /^[0-9]{5}/;\n    let result = pattern.test(event.target.value);\n    console.log({\n      \"regex\": result,\n      \"message\": \"handleinput\"\n    });\n\n    if (event.target.value.length == 5 && result && event.target.value != \"00000\") {\n      console.log({\n        \"zip\": event.target.value,\n        \"message\": \"IF handleinput\"\n      });\n      let respuesta = getCP(event.target.value);\n\n      for (let i = 0; i < respuesta.length; i++) {\n        console.log(respuesta[i].colonia);\n      }\n\n      console.log({\n        \"res\": respuesta\n      });\n    }\n  };\n\n  const getCP = async zipcode => {\n    try {\n      console.log({\n        \"zip\": zipcode,\n        \"message\": \"handleinput\"\n      });\n      let formData = new FormData();\n      formData.append(\"cp\", zipcode);\n      const url = \"http://api.masksoftco.mx/direcciones/codigo-postal\";\n      let result = await axios({\n        url,\n        method: 'POST',\n        dataType: 'json',\n        ContentType: 'application/json',\n        data: formData\n      });\n\n      if (result.data) {\n        let objectRes = result.data;\n        toastr.success(\"Información consultada\", \"correcto\");\n      } else {\n        swal(\"Opps!\", \"Código postal incorrecto\", \"error\");\n      }\n\n      console.log(result);\n      console.log(result.data); // return (res.data ? res.data : false);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"demoForm\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Sign up\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"cp\",\n          children: \"C\\xF3digo Postal: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          className: \"form-control\",\n          name: \"cp\",\n          id: \"cp\",\n          onBlur: handleInput\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"state\",\n          children: \"Estado: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(Select, {\n          options: estados\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"alcaldia\",\n          children: \"Municipio/Alcaldia: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(Select, {\n          options: municipios\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"colonia\",\n          children: \"Municipio/Alcaldia: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(Select, {\n          options: colonias\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"btn btn-primary\",\n        children: \"Sign up\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 11\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 9\n  }, this);\n}\n\n_c = Register;\nexport default Register;\n\nvar _c;\n\n$RefreshReg$(_c, \"Register\");","map":{"version":3,"names":["React","useState","useEffect","Select","axios","swal","toastr","Register","estados","value","handleInput","event","console","log","target","pattern","result","test","length","respuesta","getCP","i","colonia","zipcode","formData","FormData","append","url","method","dataType","ContentType","data","objectRes","success","error","municipios","colonias"],"sources":["C:/Users/marta/Desktop/DW/tarea_9_react/tarea_9/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Select from 'react-select'\nimport axios from \"axios\";\nimport swal from 'sweetalert';\nimport * as toastr from 'toastr';\nimport 'toastr/build/toastr.css';\n\nfunction Register (){\n    const estados = [{value: ''}]\n    const handleInput = event => {\n      console.log({\"zip\":event.target.value, \"message\":\"handleinput\"})\n      let pattern = /^[0-9]{5}/;\n      let result = pattern.test(event.target.value);\n      console.log({\"regex\":result, \"message\":\"handleinput\"});\n      if(event.target.value.length == 5 && result && event.target.value!=\"00000\"){\n        console.log({\"zip\":event.target.value, \"message\":\"IF handleinput\"})\n        let respuesta = getCP(event.target.value);\n        for(let i=0; i<respuesta.length; i++){\n          console.log(respuesta[i].colonia);\n        }\n        console.log({\"res\":respuesta});\n           }\n    };\n\n    const getCP = async (zipcode) =>{\n        try {\n          console.log({\"zip\":zipcode, \"message\":\"handleinput\"})\n            let formData = new FormData();\n            formData.append(\"cp\", zipcode);\n            const url = \"http://api.masksoftco.mx/direcciones/codigo-postal\";\n\n            let result = await axios({\n                url,\n                method: 'POST',\n                dataType: 'json',\n                ContentType: 'application/json',\n                data: formData\n            });\n            if(result.data){\n              let objectRes = result.data;\n              toastr.success(\"Información consultada\", \"correcto\")\n            }else{\n                swal(\"Opps!\", \"Código postal incorrecto\", \"error\");\n            }\n\n\n            console.log(result)\n            console.log(result.data)\n            \n\n\n           // return (res.data ? res.data : false);\n            \n        } catch (error) {\n            console.log(error);\n        }\n    }\n    return(\n        <div>\n          <form className=\"demoForm\">\n            <h2>Sign up</h2>\n            <div className=\"form-group\">\n              <label htmlFor=\"cp\">Código Postal: </label>\n              <input type=\"text\" className=\"form-control\" name=\"cp\" id=\"cp\" onBlur={handleInput}/>\n            </div>\n            <div className=\"form-group\">\n              <label htmlFor=\"state\">Estado: </label>\n              <Select options={estados}/>\n            </div>\n            <div className=\"form-group\">\n              <label htmlFor=\"alcaldia\">Municipio/Alcaldia: </label>\n              <Select options={municipios}/>\n            </div>\n            <div className=\"form-group\">\n              <label htmlFor=\"colonia\">Municipio/Alcaldia: </label>\n              <Select options={colonias}/>\n            </div>\n            <button type=\"submit\" className=\"btn btn-primary\">\n                Sign up\n            </button>\n          </form>\n        </div>\n    );\n\n}\nexport default Register;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}